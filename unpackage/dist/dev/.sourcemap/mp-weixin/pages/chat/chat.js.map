{"version":3,"file":"chat.js","sources":["pages/chat/chat.vue","../../../HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhdC9jaGF0LnZ1ZQ"],"sourcesContent":["<script setup>\nimport { reactive, ref } from 'vue'\r\nimport { onLoad } from '@dcloudio/uni-app'\r\n\r\nconst messages = reactive([])\r\nconst userInput = ref(\"\")\r\n\r\nfunction send() {\r\n\tmessages.push({\r\n\t\trole: 'user',\r\n\t\tcontent: userInput.value\r\n\t})\r\n\t\r\n\tuserInput.value = ''\r\n\t\r\n\t// bce-v3/ALTAK-70ouDlcS3WIdV6HEETNpZ/853d9711854a2f130f725bca613e1a59b39a3161\r\n\tuni.request({\r\n\t\turl: 'https://qianfan.baidubce.com/v2/chat/completions',\r\n\t\tmethod: \"POST\",\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\tAuthorization: 'Bearer bce-v3/ALTAK-70ouDlcS3WIdV6HEETNpZ/853d9711854a2f130f725bca613e1a59b39a3161'\r\n\t\t},\r\n\t\tdata: {\r\n\t\t\tmodel: \"ernie-3.5-8k\",\r\n\t\t\tmessages,\r\n\t\t}\r\n\t}).then(res => {\r\n\t\tconsole.log(res)\r\n\t\tmessages.push(res.data.choices[0].message)\r\n\t\tuni.setStorageSync(\"chat-list\", messages)\r\n\t})\r\n\t\r\n\t\r\n}\r\n\r\nonLoad(() => {\r\n\tconst res = uni.getStorageSync(\"chat-list\")\r\n\tconsole.log('res')\r\n}) \n</script>\r\n\r\n<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"nav-bar\">\r\n\t\t\t<view class=\"icon-btn\">\r\n\t\t\t\t<image class=\"icon\" src=\"/static/back.svg\" />\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<view class=\"main\">新的聊天</view>\r\n\t\t\t\t<view class=\"second\">共2条对话</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"icon-btn\">\r\n\t\t\t\t<view class=\"icon share\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"message-list\">\r\n\t\t\t<view class=\"message\" v-for=\"(message, index) in messages\" :key=\"index\" :class=\"message.role\">\r\n\t\t\t\t{{message.content}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"footer\">\r\n\t\t\t<view class=\"input-group\">\r\n\t\t\t\t<textarea class=\"input\" v-model=\"userInput\"  />\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"send-btn\" @click=\"send\">\r\n\t\t\t\t\t<view class=\"icon send\"></view>\r\n\t\t\t\t\t<view class=\"text\">发送</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n\t\n</template>\n\n<style scoped>\r\n\t.page {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.message-list {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\t\r\n\t.message {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: rgba(0, 0, 0, .05);\r\n\t\tborder: 1rpx solid #dedede;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.user {\r\n\t\tbackground-color: #e7f8ff;\r\n\t\talign-self: flex-end;\r\n\t}\r\n\t\n\t.nav-bar {\r\n\t\tpadding: 28rpx 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1rpx solid #dedede;\r\n\t\t/* #ifndef MP */\r\n\t\t\tmargin-top: 0;\t\r\n\t\t/* #endif */\r\n\t\t/* #ifdef MP */\r\n\t\t\tmargin-top: 200rpx;\t\r\n\t\t/* #endif */\r\n\t}       \r\n\t\r\n\t.icon-btn {\r\n\t\tpadding: 32rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tborder: 2rpx solid #dedede;\r\n\t}\r\n\t\r\n\t.icon {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t}\r\n\t\r\n\t.back {\r\n\t\tbackground-image: url(/static/back.svg);\r\n\t}\r\n\t\r\n\t.share {\r\n\t\tbackground-image: url(/static/share.svg);\r\n\t}\r\n\t\r\n\t.title {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.main {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t\r\n\t.second {\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t.footer {\r\n\t\tpadding: 28rpx 40rpx;\r\n\t\tborder-top: 1rpx solid #dedede;\r\n\t}\r\n\t\r\n\t.input-group {\r\n\t\tpadding: 28rpx 20rpx;\r\n\t\tborder: 1rpx solid #dedede;\r\n\t\tborder-radius: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tgap: 8rpx;\r\n\t}\r\n\t\r\n\t.input {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t}\r\n\t\r\n\t.send-btn {\r\n\t\tpadding: 32rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground-color: #1d93ab;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t}\r\n\t\r\n\t.send {\r\n\t\tbackground-image: url(/static/send.svg);\r\n\t}\n</style>\n","import MiniProgramPage from 'D:/zhuawa/14/llm-chat1/pages/chat/chat.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","ref","uni","onLoad"],"mappings":";;;;;;AAIA,UAAM,WAAWA,cAAQ,SAAC,EAAE;AAC5B,UAAM,YAAYC,cAAG,IAAC,EAAE;AAExB,aAAS,OAAO;AACf,eAAS,KAAK;AAAA,QACb,MAAM;AAAA,QACN,SAAS,UAAU;AAAA,MACrB,CAAE;AAED,gBAAU,QAAQ;AAGlBC,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,UACP,gBAAgB;AAAA,UAChB,eAAe;AAAA,QACf;AAAA,QACD,MAAM;AAAA,UACL,OAAO;AAAA,UACP;AAAA,QACA;AAAA,MACH,CAAE,EAAE,KAAK,SAAO;AACdA,sBAAAA,MAAY,MAAA,OAAA,6BAAA,GAAG;AACf,iBAAS,KAAK,IAAI,KAAK,QAAQ,CAAC,EAAE,OAAO;AACzCA,4BAAI,eAAe,aAAa,QAAQ;AAAA,MAC1C,CAAE;AAAA,IAGF;AAEAC,kBAAAA,OAAO,MAAM;AACAD,oBAAG,MAAC,eAAe,WAAW;AAC1CA,oBAAAA,gDAAY,KAAK;AAAA,IAClB,CAAC;;;;;;;;;;;;;;;;;;;ACtCD,GAAG,WAAW,eAAe;"}